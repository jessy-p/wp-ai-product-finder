document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-create-block-ai-style-finder").forEach(function(e){const n=e.querySelector(".ai-search-input"),t=e.querySelector(".search-button");function o(){const e=n.value.trim();e&&(t.disabled=!0,t.textContent="...",n.disabled=!0,n.value="Searching...",n.style.color="#999",console.log("Calling API for:",e),fetch("/wp-json/ai-style-finder/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})}).then(e=>e.json()).then(e=>{console.log("API Response:",e)}).catch(e=>{console.error("API Error:",e)}).finally(()=>{t.disabled=!1,t.textContent="üîç",n.disabled=!1,n.value=e,n.style.color=""}))}e.querySelectorAll(".suggestion-chip").forEach(function(e){e.addEventListener("click",function(){const t=e.textContent;n.value=t,n.focus()})}),n.addEventListener("keydown",function(e){"Enter"===e.key&&o()}),t.addEventListener("click",function(){o()})})});